<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dienstplan</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:#f4f6f9;
}

header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:10px 20px;
    background:#1e293b;
    color:white;
    flex-wrap:wrap;
}

.header-left{
    display:flex;
    flex-direction:column;
}

.header-right{
    display:flex;
    gap:20px;
    align-items:center;
}

.controls{
    padding:10px 20px;
    background:#e2e8f0;
    display:flex;
    gap:15px;
    flex-wrap:wrap;
}

select{
    padding:6px;
}

.table-wrapper{
    padding:10px;
    overflow:auto;
}

table{
    width:100%;
    border-collapse:collapse;
    background:white;
}

th, td{
    border:1px solid #ddd;
    padding:8px;
    text-align:center;
    font-size:14px;
}

th{
    background:#334155;
    color:white;
    position:sticky;
    top:0;
}

.employee-col{
    background:#f1f5f9;
    font-weight:bold;
    position:sticky;
    left:0;
}

.today{
    background:#fff7ed !important;
}

@media(max-width:768px){
    th,td{
        font-size:12px;
        padding:5px;
    }
}
</style>
</head>
<body>

<header>
    <div class="header-left">
        <div id="currentDate"></div>
        <div id="currentTime"></div>
    </div>
    <div class="header-right">
        <div id="taskCount">Aufgaben: 0</div>
    </div>
</header>

<div class="controls">
    <label>Ansicht:
        <select id="viewMode">
            <option value="week">Alles (Woche)</option>
            <option value="today">Meine Aufgaben heute</option>
        </select>
    </label>

    <label>Mitarbeiter:
        <select id="employeeFilter">
            <option value="all">Alle</option>
        </select>
    </label>
</div>

<div class="table-wrapper">
<table id="scheduleTable">
<thead>
<tr>
<th>Mitarbeiter</th>
<th>Montag</th>
<th>Dienstag</th>
<th>Mittwoch</th>
<th>Donnerstag</th>
<th>Freitag</th>
<th>Samstag</th>
<th>Sonntag</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
</div>

<script>

const EMPLOYEES = [
"Max Mustermann",
"Lisa Müller",
"Tom Becker",
"Anna Schmidt",
"Paul Weber",
"Laura Hoffmann",
"Jonas Klein",
"Sara Wagner",
"Felix Braun",
"Marie Koch",
"Lukas Richter",
"Emma Wolf"
];

const DAYS = ["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"];

const tableBody = document.querySelector("#scheduleTable tbody");
const employeeFilter = document.getElementById("employeeFilter");
const viewMode = document.getElementById("viewMode");

EMPLOYEES.forEach(name=>{
    const option=document.createElement("option");
    option.value=name;
    option.textContent=name;
    employeeFilter.appendChild(option);
});

function getTodayName(){
    const dayIndex=new Date().getDay();
    return DAYS[(dayIndex+6)%7];
}

function renderTable(){
    tableBody.innerHTML="";
    let count=0;
    const selectedEmployee=employeeFilter.value;
    const mode=viewMode.value;
    const today=getTodayName();

    EMPLOYEES.forEach(emp=>{
        if(selectedEmployee!=="all" && emp!==selectedEmployee) return;

        const row=document.createElement("tr");

        const nameCell=document.createElement("td");
        nameCell.textContent=emp;
        nameCell.classList.add("employee-col");
        row.appendChild(nameCell);

        DAYS.forEach(day=>{
            if(mode==="today" && day!==today) return;

            const cell=document.createElement("td");
            cell.textContent="—";
            if(day===today) cell.classList.add("today");
            row.appendChild(cell);
            count++;
        });

        tableBody.appendChild(row);
    });

    document.getElementById("taskCount").textContent="Aufgaben: "+count;
}

viewMode.addEventListener("change",renderTable);
employeeFilter.addEventListener("change",renderTable);

renderTable();

function updateDateTime(){
    const now=new Date();
    document.getElementById("currentDate").textContent=
        now.toLocaleDateString("de-DE",{weekday:"long", year:"numeric", month:"long", day:"numeric"});
    document.getElementById("currentTime").textContent=
        now.toLocaleTimeString("de-DE");
}

setInterval(updateDateTime,1000);
updateDateTime();

</script>

</body>
</html>
